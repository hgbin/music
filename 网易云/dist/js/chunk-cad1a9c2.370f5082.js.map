{"version":3,"sources":["webpack:///./src/views/Listen.vue?787b","webpack:///./node_modules/core-js/modules/es.json.stringify.js","webpack:///./src/views/Listen.vue?a673","webpack:///src/views/Listen.vue","webpack:///./src/views/Listen.vue?a39e","webpack:///./src/views/Listen.vue"],"names":["$","global","getBuiltIn","apply","uncurryThis","fails","Array","$stringify","exec","charAt","charCodeAt","replace","numberToString","toString","tester","low","hi","fix","match","offset","string","prev","next","FORCED","target","stat","forced","stringify","it","replacer","space","i","l","arguments","length","args","result","render","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","currentsong","musicbackurl","staticClass","_v","_s","musicname","musicsinger","musicDatetime","musicType","on","$event","changePlayingsong","AddJoin","_l","item","index","key","path","query","slot","directives","name","rawName","value","expression","musicoutlink","drawer","user","avatarUrl","likedCount","nickname","content","edit","drawer1","ref","model","callback","$$v","$set","pickerOptions","handlePictureCardPreview","change","uploadsuccess","uploaderror","dialogVisible","dialogImageUrl","sureupdate","staticRenderFns","data","playmusic","mycomment","musictype","liked","loading","shortcuts","created","initgetmusic","initcommpent","IsJoin","getcurrentindex","initloading","methods","songstype","get","$route","console","log","$router","push","Object","assign","getmycurrentsong","file","url","response","fileList","$message","error","updateAll","_this","$qs","music","JSON","$axios","method","setTimeout","$confirm","confirmButtonText","cancelButtonText","type","musicid","userid","Userid","change1","newvalue","initColor","getALLMusicList","document","getElementsByClassName","newindex","end","currentindex","$store","commit","computed","watch","currentcomment","UserLove","handler","deep","component"],"mappings":"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","file":"js/chunk-cad1a9c2.370f5082.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Listen.vue?vue&type=style&index=0&lang=css&\"","var $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar apply = require('../internals/function-apply');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\n\nvar Array = global.Array;\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar exec = uncurryThis(/./.exec);\nvar charAt = uncurryThis(''.charAt);\nvar charCodeAt = uncurryThis(''.charCodeAt);\nvar replace = uncurryThis(''.replace);\nvar numberToString = uncurryThis(1.0.toString);\n\nvar tester = /[\\uD800-\\uDFFF]/g;\nvar low = /^[\\uD800-\\uDBFF]$/;\nvar hi = /^[\\uDC00-\\uDFFF]$/;\n\nvar fix = function (match, offset, string) {\n  var prev = charAt(string, offset - 1);\n  var next = charAt(string, offset + 1);\n  if ((exec(low, match) && !exec(hi, next)) || (exec(hi, match) && !exec(low, prev))) {\n    return '\\\\u' + numberToString(charCodeAt(match, 0), 16);\n  } return match;\n};\n\nvar FORCED = fails(function () {\n  return $stringify('\\uDF06\\uD834') !== '\"\\\\udf06\\\\ud834\"'\n    || $stringify('\\uDEAD') !== '\"\\\\udead\"';\n});\n\nif ($stringify) {\n  // `JSON.stringify` method\n  // https://tc39.es/ecma262/#sec-json.stringify\n  // https://github.com/tc39/proposal-well-formed-stringify\n  $({ target: 'JSON', stat: true, forced: FORCED }, {\n    // eslint-disable-next-line no-unused-vars -- required for `.length`\n    stringify: function stringify(it, replacer, space) {\n      for (var i = 0, l = arguments.length, args = Array(l); i < l; i++) args[i] = arguments[i];\n      var result = apply($stringify, null, args);\n      return typeof result == 'string' ? replace(result, tester, fix) : result;\n    }\n  });\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-container',[_c('el-main',{staticStyle:{\"padding\":\"0 !important\"}},[_c('div',{attrs:{\"id\":\"music-box\"}},[_c('div',{attrs:{\"id\":\"music-back-box\"}},[_c('el-image',{attrs:{\"src\":_vm.currentsong.musicbackurl,\"id\":\"rotate-img\"}})],1),_c('div',{attrs:{\"id\":\"music-control-box\"}},[_c('span',{staticClass:\"music-show-span\",attrs:{\"id\":\"small-span\"}},[_vm._v(\"NAME: \"+_vm._s(_vm.currentsong.musicname))]),_c('span',{staticClass:\"music-show-span\",attrs:{\"id\":\"small-span\"}},[_vm._v(\"SINGER: \"+_vm._s(_vm.currentsong.musicsinger))]),_c('span',{staticClass:\"music-show-span\",attrs:{\"id\":\"small-span\"}},[_vm._v(\"TIME: \"+_vm._s(_vm.currentsong.musicDatetime))]),_c('span',{staticClass:\"music-show-span\",attrs:{\"id\":\"small-span\"}},[_vm._v(\"TYPE: \"+_vm._s(_vm.currentsong.musicType))]),_c('span',{staticClass:\"music-show-span\",attrs:{\"id\":\"small-span\"}},[_vm._v(\"JOIN LOVE\")]),_c('div',{staticClass:\"listen-box\"},[_c('el-button',{attrs:{\"id\":\"my-love-bt\",\"icon\":\"el-icon-d-arrow-left\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.changePlayingsong(-1)}}}),_c('el-button',{attrs:{\"id\":\"my-love-bt\",\"icon\":\"el-icon-star-off\",\"circle\":\"\"},on:{\"click\":_vm.AddJoin}}),_c('el-button',{attrs:{\"id\":\"my-love-bt\",\"icon\":\"el-icon-d-arrow-right\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.changePlayingsong(1)}}}),_c('el-popover',{attrs:{\"placement\":\"right\",\"width\":\"400\",\"trigger\":\"click\"}},[_c('div',{staticClass:\"show-ALLMusic-box\"},[_vm._l((_vm.getALLMusicList),function(item,index){return [_c('div',{key:index,staticClass:\"show-ALLMusic-small-box\"},[_c('router-link',{attrs:{\"to\":{ path: '/listen', query: { item: item } }}},[_c('el-image',{staticClass:\"show-ALL-image\",attrs:{\"src\":item.musicbackurl,\"fit\":\"cover\"}})],1),_c('span',{attrs:{\"id\":\"small-span\"}},[_vm._v(_vm._s(item.musicname))]),_vm._v(\"--- \"),_c('span',{attrs:{\"id\":\"small-span\"}},[_vm._v(_vm._s(item.musicsinger))])],1)]})],2),_c('el-button',{attrs:{\"slot\":\"reference\",\"icon\":\"el-icon-s-data\",\"id\":\"my-love-bt\",\"circle\":\"\"},slot:\"reference\"})],1)],1)]),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"id\":\"music-iframe-box\"}},[_c('iframe',{attrs:{\"id\":\"iframe\",\"frameborder\":\"no\",\"border\":\"0\",\"marginwidth\":\"0\",\"marginheight\":\"0\",\"width\":\"100%\",\"height\":\"150\",\"src\":_vm.currentsong.musicoutlink}})])])])],1),_c('el-button',{attrs:{\"id\":\"my-comment-bt\",\"icon\":\"el-icon-edit\",\"round\":\"\"},on:{\"click\":function($event){_vm.drawer = true}}},[_vm._v(\" 评论 \")]),_c('el-drawer',{attrs:{\"title\":\"热门评论\",\"visible\":_vm.drawer},on:{\"update:visible\":function($event){_vm.drawer=$event}}},[_vm._l((_vm.mycomment),function(item,index){return [_c('div',{key:index,attrs:{\"id\":\"comment-box\"}},[_c('el-image',{staticStyle:{\"width\":\"30px\",\"height\":\"30px\",\"border-radius\":\"50%\"},attrs:{\"src\":item.user.avatarUrl}}),_c('div',[_c('span',{staticClass:\"comment-span love-span\",attrs:{\"id\":\"small-span\"}},[_vm._v(\"loveCount:\"+_vm._s(item.likedCount)+\" Times\")])]),_c('div',[_c('span',{staticClass:\"comment-span name-span\",attrs:{\"id\":\"small-span\"}},[_vm._v(_vm._s(item.user.nickname)+\":\")]),_c('span',{staticClass:\"comment-span\",attrs:{\"id\":\"small-span\"}},[_vm._v(_vm._s(item.content))])])],1)]})],2),_c('el-button',{attrs:{\"id\":\"my-update-bt\",\"icon\":\"el-icon-edit\",\"round\":\"\"},on:{\"click\":_vm.edit}},[_vm._v(\" 编辑 \")]),_c('el-drawer',{staticClass:\"my-update-drawer\",attrs:{\"title\":\"编辑修改\",\"visible\":_vm.drawer1,\"direction\":\"ttb\"},on:{\"update:visible\":function($event){_vm.drawer1=$event}}},[_c('div',{staticClass:\"my-upload-main\"},[_c('el-form',{ref:\"form\",staticClass:\"my-upload-form\",attrs:{\"model\":_vm.currentsong,\"label-width\":\"80px\"}},[_c('el-form-item',{staticClass:\"title-span my-upload-form-item\",attrs:{\"label\":\"SONG-ID\"}},[_c('el-input',{staticClass:\"my-upload-input\",attrs:{\"clearable\":\"\",\"disabled\":true},model:{value:(_vm.currentsong.musicid),callback:function ($$v) {_vm.$set(_vm.currentsong, \"musicid\", $$v)},expression:\"currentsong.musicid\"}})],1),_c('el-form-item',{staticClass:\"title-span my-upload-form-item\",attrs:{\"label\":\"SONG-NAME\"}},[_c('el-input',{staticClass:\"my-upload-input\",attrs:{\"clearable\":\"\",\"placeholder\":\"例如: 水星记\"},model:{value:(_vm.currentsong.musicname),callback:function ($$v) {_vm.$set(_vm.currentsong, \"musicname\", $$v)},expression:\"currentsong.musicname\"}})],1),_c('el-form-item',{staticClass:\"title-span my-upload-form-item\",attrs:{\"label\":\"SONG-SINGER\"}},[_c('el-input',{staticClass:\"my-upload-input\",attrs:{\"clearable\":\"\",\"placeholder\":\"例如：郭顶\"},model:{value:(_vm.currentsong.musicsinger),callback:function ($$v) {_vm.$set(_vm.currentsong, \"musicsinger\", $$v)},expression:\"currentsong.musicsinger\"}})],1),_c('el-form-item',{staticClass:\"title-span my-upload-form-item\",attrs:{\"label\":\"SONG-DATETIME\"}},[_c('el-date-picker',{staticClass:\"my-form-date\",attrs:{\"type\":\"datetime\",\"placeholder\":\"选择日期时间\",\"align\":\"right\",\"picker-options\":_vm.pickerOptions},model:{value:(_vm.currentsong.musicDatetime),callback:function ($$v) {_vm.$set(_vm.currentsong, \"musicDatetime\", $$v)},expression:\"currentsong.musicDatetime\"}})],1),_c('el-form-item',{staticClass:\"title-span my-upload-form-item\",attrs:{\"label\":\"SONG-MUSICTYPE\"}},[_c('el-select',{staticClass:\"my-form-select\",attrs:{\"placeholder\":\"请选择音乐类型\"},model:{value:(_vm.currentsong.musicType),callback:function ($$v) {_vm.$set(_vm.currentsong, \"musicType\", $$v)},expression:\"currentsong.musicType\"}},_vm._l((_vm.musictype),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item,\"value\":item}})}),1)],1),_c('el-form-item',{staticClass:\"title-span my-upload-form-item\",attrs:{\"label\":\"MUSIC-BACKGROUND\"}},[_c('el-input',{staticClass:\"my-upload-input\",attrs:{\"disabled\":true,\"clearable\":\"\"},model:{value:(_vm.currentsong.musicbackurl),callback:function ($$v) {_vm.$set(_vm.currentsong, \"musicbackurl\", $$v)},expression:\"currentsong.musicbackurl\"}}),_c('el-upload',{ref:\"update\",staticClass:\"upload-demo\",attrs:{\"action\":\"/Music/Upload\",\"list-type\":\"picture-card\",\"on-preview\":_vm.handlePictureCardPreview,\"on-change\":_vm.change,\"on-success\":_vm.uploadsuccess,\"on-error\":_vm.uploaderror,\"auto-upload\":false,\"enctype\":\"multipart/form-data\",\"limit\":1}},[_c('i',{staticClass:\"el-icon-plus\"})]),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('img',{attrs:{\"width\":\"100%\",\"src\":_vm.dialogImageUrl,\"alt\":\"\"}})])],1),_c('el-form-item',{staticClass:\"title-span my-upload-form-item\",attrs:{\"label\":\"SONG-OUTLINK\"}},[_c('el-input',{staticClass:\"my-upload-input\",attrs:{\"clearable\":\"\",\"disabled\":true},model:{value:(_vm.currentsong.musicoutlink),callback:function ($$v) {_vm.$set(_vm.currentsong, \"musicoutlink\", $$v)},expression:\"currentsong.musicoutlink\"}})],1),_c('el-button',{staticStyle:{},attrs:{\"icon\":\"el-icon-success\",\"circle\":\"\"},on:{\"click\":_vm.sureupdate}})],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-container>\r\n      <el-main style=\"padding: 0 !important\">\r\n        <div id=\"music-box\">\r\n          <div id=\"music-back-box\">\r\n            <el-image :src=\"currentsong.musicbackurl\" id=\"rotate-img\">\r\n            </el-image>\r\n          </div>\r\n          <div id=\"music-control-box\">\r\n            <span id=\"small-span\" class=\"music-show-span\"\r\n              >NAME: {{ currentsong.musicname }}</span\r\n            >\r\n            <span id=\"small-span\" class=\"music-show-span\"\r\n              >SINGER: {{ currentsong.musicsinger }}</span\r\n            >\r\n            <span id=\"small-span\" class=\"music-show-span\"\r\n              >TIME: {{ currentsong.musicDatetime }}</span\r\n            >\r\n            <span id=\"small-span\" class=\"music-show-span\"\r\n              >TYPE: {{ currentsong.musicType }}</span\r\n            >\r\n            <span id=\"small-span\" class=\"music-show-span\">JOIN LOVE</span>\r\n            <div class=\"listen-box\">\r\n              <el-button\r\n                id=\"my-love-bt\"\r\n                icon=\"el-icon-d-arrow-left\"\r\n                circle\r\n                @click=\"changePlayingsong(-1)\"\r\n              >\r\n              </el-button>\r\n              <el-button\r\n                id=\"my-love-bt\"\r\n                icon=\"el-icon-star-off\"\r\n                circle\r\n                @click=\"AddJoin\"\r\n              >\r\n              </el-button>\r\n              <el-button\r\n                id=\"my-love-bt\"\r\n                icon=\"el-icon-d-arrow-right\"\r\n                circle\r\n                @click=\"changePlayingsong(1)\"\r\n              >\r\n              </el-button>\r\n              <el-popover placement=\"right\" width=\"400\" trigger=\"click\">\r\n                <div class=\"show-ALLMusic-box\">\r\n                  <template v-for=\"(item, index) in getALLMusicList\">\r\n                    <div :key=\"index\" class=\"show-ALLMusic-small-box\">\r\n                      <router-link :to=\"{ path: '/listen', query: { item } }\">\r\n                        <el-image\r\n                          :src=\"item.musicbackurl\"\r\n                          fit=\"cover\"\r\n                          class=\"show-ALL-image\"\r\n                        >\r\n                        </el-image>\r\n                      </router-link>\r\n                      <span id=\"small-span\">{{ item.musicname }}</span\r\n                      >---\r\n                      <span id=\"small-span\">{{ item.musicsinger }}</span>\r\n                    </div>\r\n                  </template>\r\n                </div>\r\n                <el-button\r\n                  slot=\"reference\"\r\n                  icon=\"el-icon-s-data\"\r\n                  id=\"my-love-bt\"\r\n                  circle\r\n                ></el-button>\r\n              </el-popover>\r\n            </div>\r\n          </div>\r\n\r\n          <div v-loading=\"loading\" id=\"music-iframe-box\">\r\n            <iframe\r\n              id=\"iframe\"\r\n              frameborder=\"no\"\r\n              border=\"0\"\r\n              marginwidth=\"0\"\r\n              marginheight=\"0\"\r\n              width=\"100%\"\r\n              height=\"150\"\r\n              :src=\"currentsong.musicoutlink\"\r\n            ></iframe>\r\n          </div>\r\n        </div>\r\n      </el-main>\r\n    </el-container>\r\n    <el-button\r\n      @click=\"drawer = true\"\r\n      id=\"my-comment-bt\"\r\n      icon=\"el-icon-edit\"\r\n      round\r\n    >\r\n      评论\r\n    </el-button>\r\n\r\n    <el-drawer title=\"热门评论\" :visible.sync=\"drawer\">\r\n      <template v-for=\"(item, index) in mycomment\">\r\n        <div :key=\"index\" id=\"comment-box\">\r\n          <el-image\r\n            :src=\"item.user.avatarUrl\"\r\n            style=\"width: 30px; height: 30px; border-radius: 50%\"\r\n          ></el-image>\r\n          <div>\r\n            <span id=\"small-span\" class=\"comment-span love-span\"\r\n              >loveCount:{{ item.likedCount }} Times</span\r\n            >\r\n          </div>\r\n          <div>\r\n            <span id=\"small-span\" class=\"comment-span name-span\"\r\n              >{{ item.user.nickname }}:</span\r\n            >\r\n            <span id=\"small-span\" class=\"comment-span\">{{ item.content }}</span>\r\n          </div>\r\n        </div>\r\n      </template>\r\n    </el-drawer>\r\n\r\n    <el-button @click=\"edit\" id=\"my-update-bt\" icon=\"el-icon-edit\" round>\r\n      编辑\r\n    </el-button>\r\n\r\n    <el-drawer\r\n      title=\"编辑修改\"\r\n      :visible.sync=\"drawer1\"\r\n      direction=\"ttb\"\r\n      class=\"my-update-drawer\"\r\n    >\r\n      <div class=\"my-upload-main\">\r\n        <el-form\r\n          ref=\"form\"\r\n          :model=\"currentsong\"\r\n          label-width=\"80px\"\r\n          class=\"my-upload-form\"\r\n        >\r\n          <el-form-item class=\"title-span my-upload-form-item\" label=\"SONG-ID\">\r\n            <el-input\r\n              v-model=\"currentsong.musicid\"\r\n              class=\"my-upload-input\"\r\n              clearable\r\n              :disabled=\"true\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-form-item\r\n            class=\"title-span my-upload-form-item\"\r\n            label=\"SONG-NAME\"\r\n          >\r\n            <el-input\r\n              v-model=\"currentsong.musicname\"\r\n              class=\"my-upload-input\"\r\n              clearable\r\n              placeholder=\"例如: 水星记\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-form-item\r\n            class=\"title-span my-upload-form-item\"\r\n            label=\"SONG-SINGER\"\r\n          >\r\n            <el-input\r\n              v-model=\"currentsong.musicsinger\"\r\n              class=\"my-upload-input\"\r\n              clearable\r\n              placeholder=\"例如：郭顶\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-form-item\r\n            class=\"title-span my-upload-form-item\"\r\n            label=\"SONG-DATETIME\"\r\n          >\r\n            <el-date-picker\r\n              v-model=\"currentsong.musicDatetime\"\r\n              type=\"datetime\"\r\n              placeholder=\"选择日期时间\"\r\n              align=\"right\"\r\n              :picker-options=\"pickerOptions\"\r\n              class=\"my-form-date\"\r\n            >\r\n            </el-date-picker>\r\n          </el-form-item>\r\n          <el-form-item\r\n            class=\"title-span my-upload-form-item\"\r\n            label=\"SONG-MUSICTYPE\"\r\n          >\r\n            <el-select\r\n              v-model=\"currentsong.musicType\"\r\n              placeholder=\"请选择音乐类型\"\r\n              class=\"my-form-select\"\r\n            >\r\n              <el-option\r\n                v-for=\"(item, index) in musictype\"\r\n                :key=\"index\"\r\n                :label=\"item\"\r\n                :value=\"item\"\r\n              >\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item\r\n            class=\"title-span my-upload-form-item\"\r\n            label=\"MUSIC-BACKGROUND\"\r\n          >\r\n            <el-input\r\n              v-model=\"currentsong.musicbackurl\"\r\n              class=\"my-upload-input\"\r\n              :disabled=\"true\"\r\n              clearable\r\n            ></el-input>\r\n            <el-upload\r\n              class=\"upload-demo\"\r\n              action=\"/Music/Upload\"\r\n              ref=\"update\"\r\n              list-type=\"picture-card\"\r\n              :on-preview=\"handlePictureCardPreview\"\r\n              :on-change=\"change\"\r\n              :on-success=\"uploadsuccess\"\r\n              :on-error=\"uploaderror\"\r\n              :auto-upload=\"false\"\r\n              enctype=\"multipart/form-data\"\r\n              :limit=\"1\"\r\n            >\r\n              <i class=\"el-icon-plus\"></i>\r\n            </el-upload>\r\n            <el-dialog :visible.sync=\"dialogVisible\">\r\n              <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\" />\r\n            </el-dialog>\r\n          </el-form-item>\r\n          <el-form-item\r\n            class=\"title-span my-upload-form-item\"\r\n            label=\"SONG-OUTLINK\"\r\n          >\r\n            <el-input\r\n              v-model=\"currentsong.musicoutlink\"\r\n              class=\"my-upload-input\"\r\n              clearable\r\n              :disabled=\"true\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-button\r\n            style=\"warning\"\r\n            icon=\"el-icon-success\"\r\n            circle\r\n            @click=\"sureupdate\"\r\n          ></el-button>\r\n        </el-form>\r\n      </div>\r\n    </el-drawer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as myapi from \"../assets/js/Myapi.js\";\r\nimport { mapState, mapMutations } from \"vuex\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      playmusic: {},\r\n      mycomment: [],\r\n      musictype: [],\r\n      drawer: false,\r\n      drawer1: false,\r\n      dialogVisible: false, //图片展示\r\n      dialogImageUrl: \"\", //预览图片\r\n      liked: false, //喜欢状态\r\n      loading:false,\r\n      pickerOptions: {\r\n        shortcuts: [\r\n          {\r\n            text: \"今天\",\r\n            onClick(picker) {\r\n              picker.$emit(\"pick\", new Date());\r\n            },\r\n          },\r\n          {\r\n            text: \"昨天\",\r\n            onClick(picker) {\r\n              const date = new Date();\r\n              date.setTime(date.getTime() - 3600 * 1000 * 24);\r\n              picker.$emit(\"pick\", date);\r\n            },\r\n          },\r\n          {\r\n            text: \"一周前\",\r\n            onClick(picker) {\r\n              const date = new Date();\r\n              date.setTime(date.getTime() - 3600 * 1000 * 24 * 7);\r\n              picker.$emit(\"pick\", date);\r\n            },\r\n          },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    this.initgetmusic();\r\n    this.initcommpent();\r\n    this.IsJoin();\r\n    this.getcurrentindex(this.currentsong);\r\n    this.initloading()\r\n  },\r\n  methods: {\r\n    initgetmusic() {\r\n      this.musictype = this.songstype;\r\n      var get = this.$route.query.item;\r\n      console.log(get.length);\r\n      if (get.length == 15) {\r\n        this.$router.push(\"/home\");\r\n      }\r\n      if (get != \"undefined\" && get != null && get != \"\") {\r\n        this.playmusic = Object.assign({}, get);\r\n        console.log(this.playmusic);\r\n        this.getmycurrentsong(this.playmusic);\r\n      }\r\n    },\r\n    initcommpent() {\r\n      //获取当前歌曲的评论\r\n      myapi.getcomment(this.playmusic.musicid);\r\n    },\r\n    //----图片预览-----------------------\r\n    handlePictureCardPreview(file) {\r\n      this.dialogImageUrl = file.url;\r\n      this.dialogVisible = true;\r\n    },\r\n    //------文件改变时\r\n    change(file) {\r\n      console.log(file);\r\n    },\r\n    //--------文件上传成功时\r\n    uploadsuccess(response, file, fileList) {\r\n      this.currentsong.musicbackurl = myapi.returnpost() + file.name;\r\n      console.log(\"上传成功\", response, file, file.name, fileList);\r\n      //接着进行上传\r\n      //调用另一个上传函数把form内容上传到后台.\r\n    },\r\n    //--------文件上传失败时\r\n    uploaderror(file) {\r\n      console.log(file);\r\n      this.$message.error(\"上传失败\");\r\n    },\r\n    //更新所有内容\r\n    updateAll() {\r\n      var _this = this;\r\n      console.log(\"?????\");\r\n      var data = this.$qs.stringify({\r\n        music: JSON.stringify(this.currentsong),\r\n      });\r\n      this.$axios({\r\n        method: \"post\",\r\n        url: \"/Music/UpdateMusic\",\r\n        data: data,\r\n      })\r\n        .then(function (respone) {\r\n          console.log(respone.data.tip);\r\n          if (respone.data.tip === true) {\r\n            setTimeout(() => {\r\n              _this.$message.success(\"编辑成功\");\r\n            }, 1000);\r\n          } else {\r\n            setTimeout(() => {\r\n              _this.$message.warning(\"上传失败\");\r\n            }, 1000);\r\n          }\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        });\r\n    },\r\n    edit() {\r\n      if (\r\n        this.Userid === null ||\r\n        this.Userid === \"\" ||\r\n        sessionStorage.user == null\r\n      ) {\r\n        this.$message.error(\"请先登录\");\r\n        setTimeout(() => {\r\n          this.$router.push(\"/home\");\r\n        }, 1000);\r\n        return;\r\n      }\r\n      this.drawer1 = true;\r\n    },\r\n    //确定更新\r\n    sureupdate() {\r\n      this.$confirm(\"确定上传信息无误嘛, 是否继续?\", \"上传提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\",\r\n      })\r\n        .then((action) => {\r\n          if (action === \"confirm\") {\r\n            this.drawer1 = false;\r\n            this.$refs.update.submit(); //上传照片先...\r\n            setTimeout(() => {\r\n              this.updateAll();\r\n            }, 1000);\r\n          }\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消编辑\",\r\n          });\r\n        });\r\n    },\r\n    //需要定义一个方法（为了在初始化的时候知道该用户是否已经存在该歌曲\r\n    IsJoin() {\r\n      if (\r\n        this.Userid === null ||\r\n        this.Userid === \"\" ||\r\n        sessionStorage.user == null\r\n      ) {\r\n        this.liked = false;\r\n        return;\r\n      } else {\r\n        var data = this.$qs.stringify({\r\n          musicid: this.currentsong.musicid,\r\n          userid: this.Userid,\r\n        });\r\n        this.$axios({\r\n          method: \"post\",\r\n          url: \"/Music/CheckLoveMusic\",\r\n          data: data,\r\n        })\r\n          .then((respone) => {\r\n            console.log(\"是否存在该歌曲\", respone.data.tip);\r\n            if (respone.data.tip) {\r\n              this.liked = true;\r\n            } else {\r\n              this.liked = false;\r\n            }\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          });\r\n      }\r\n    },\r\n    //加入收藏\r\n    AddJoin() {\r\n      if (\r\n        this.Userid === null ||\r\n        this.Userid === \"\" ||\r\n        sessionStorage.user == null\r\n      ) {\r\n        this.$message.error(\"请先登录\");\r\n        setTimeout(() => {\r\n          this.$router.push(\"/home\");\r\n        }, 1000);\r\n        return;\r\n      }\r\n      //\r\n      var data = this.$qs.stringify({\r\n        musicid: this.currentsong.musicid,\r\n        userid: this.Userid,\r\n      });\r\n      if (this.liked) {\r\n        //如果是取消收藏状态\r\n        //访问后端接口//取消收藏\r\n        this.liked = false;\r\n        this.$axios({\r\n          method: \"post\",\r\n          url: \"/Music/QuitLoveMusic\",\r\n          data: data,\r\n        })\r\n          .then((respone) => {\r\n            console.log(respone.data.tip);\r\n            if (respone.data.tip) {\r\n              this.$message.success(\"取消收藏咯\");\r\n              this.removeUserLove(this.currentsong);\r\n            } else {\r\n              this.$message.error(\"取消失败咯\");\r\n            }\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          });\r\n      } else {\r\n        //如果是加入收藏状态\r\n        //访问后端接口//加入收藏\r\n        this.liked = true;\r\n        this.$axios({\r\n          method: \"post\",\r\n          url: \"/Music/AddLoveMusic\",\r\n          data: data,\r\n        })\r\n          .then((respone) => {\r\n            console.log(respone.data.tip);\r\n            if (respone.data.tip) {\r\n              this.$message.success(\"收藏成功咯\");\r\n              this.addUserLove(this.currentsong);\r\n            } else {\r\n              this.$message.error(\"收藏失败咯\");\r\n            }\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          });\r\n      }\r\n    },\r\n    change1(newvalue) {\r\n      this.currentsong.musicDatetime = newvalue.musicDatetime;\r\n    },\r\n    //改变播放盒子对应的颜色\r\n    initColor(index) {\r\n      for (var i = 0; i < this.getALLMusicList.length; i++) {\r\n        document.getElementsByClassName(\"show-ALLMusic-small-box\")[\r\n          i\r\n        ].style.cssText = \" background-color:white;\";\r\n      }\r\n      document.getElementsByClassName(\"show-ALLMusic-small-box\")[\r\n        index\r\n      ].style.cssText =\r\n        \" background-color: rgba(240, 172, 178, 0.64) !important;\";\r\n    },\r\n    //进行上/下播放\r\n    changePlayingsong(type) {\r\n      var newindex = -1;\r\n      var end = this.getALLMusicList.length;\r\n      if (type == -1) {\r\n        //上一首播放\r\n        if (this.currentindex === 0) {\r\n          newindex = end - 1;\r\n        } else {\r\n          //同时更新全局状态管理中的currentindex\r\n          this.$store.commit(\"Songs/updatecurrentindex\", -1);\r\n          newindex = this.currentindex;\r\n        }\r\n      } else if (type == 1) {\r\n        //下一首播放\r\n        if (this.currentindex === end - 1) {\r\n          newindex = 0;\r\n        } else {\r\n          //同时更新全局状态管理中的currentindex\r\n          this.$store.commit(\"Songs/updatecurrentindex\", 1);\r\n          newindex = this.currentindex;\r\n        }\r\n      }\r\n      //更新播放歌曲\r\n      var item = this.getALLMusicList[newindex];\r\n      console.log(\"改变时新的Lisetn\", item);\r\n      this.$router.push({ path: \"/Listen\", query: { item } });\r\n    },\r\n    //加载效果\r\n    initloading(){\r\n      this.loading = true\r\n      setTimeout(() => {\r\n        this.loading = false\r\n      }, 500);\r\n    },\r\n    ...mapMutations(\"Songs\", [\r\n      \"getmycurrentsong\",\r\n      \"getcurrentindex\",\r\n    ]),\r\n    ...mapMutations(\"UserLove\", [\"addUserLove\", \"removeUserLove\"]),\r\n  },\r\n  computed: {\r\n    ...mapState(\"Songs\", [\r\n      \"currentsong\",\r\n      \"currentcomment\",\r\n      \"getALLMusicList\",\r\n      \"currentindex\",\r\n      \"songstype\"\r\n    ]),\r\n    ...mapState(\"User\", [\"Userid\"]),\r\n    ...mapState(\"UserLove\", [\"UserLove\"]),\r\n  },\r\n  watch: {\r\n    $route() {\r\n      this.initgetmusic();\r\n      this.initcommpent();\r\n      this.IsJoin();\r\n      this.getcurrentindex(this.currentsong);\r\n      this.initloading()\r\n    },\r\n    currentcomment(newvalue) {\r\n      this.mycomment = newvalue;\r\n    },\r\n    songstype(newvalue) {\r\n      this.musictype = newvalue;\r\n      console.log('??????????',this.musictype);\r\n    },\r\n    \"currentsong.musicbackurl\"(newvalue) {\r\n      this.currentsong.musicbackurl = newvalue;\r\n    },\r\n    UserLove(newvalue) {\r\n      console.log(\"我的收藏列表在变化\", newvalue);\r\n    },\r\n    currentsong: {\r\n      handler: \"change1\",\r\n      deep: true,\r\n    },\r\n    currentindex(newvalue) {\r\n      this.initColor(newvalue);\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n@import \"../assets/css/Listen.css\";\r\n@import \"../assets/css/normal.css\";\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Listen.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Listen.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Listen.vue?vue&type=template&id=6b9a84a2&\"\nimport script from \"./Listen.vue?vue&type=script&lang=js&\"\nexport * from \"./Listen.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Listen.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}