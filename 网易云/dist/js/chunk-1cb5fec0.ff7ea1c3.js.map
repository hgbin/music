{"version":3,"sources":["webpack:///./src/views/Upload.vue?948b","webpack:///src/views/Upload.vue","webpack:///./src/views/Upload.vue?b406","webpack:///./src/views/Upload.vue","webpack:///./src/views/Upload.vue?81c2","webpack:///./node_modules/core-js/modules/es.json.stringify.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","ref","form","model","value","callback","$$v","$set","expression","pickerOptions","_l","item","index","key","handlePictureCardPreview","change","uploadsuccess","uploaderror","dialogVisible","on","$event","dialogImageUrl","staticStyle","sureupload","staticRenderFns","data","musicid","musicname","musicsinger","musicDatetime","musicType","musicurl","musicbackurl","musicoutlink","musictype","shortcuts","created","init","methods","songstype","console","log","file","url","name","response","fileList","uploadAll","$message","error","_this","$qs","stringify","music","JSON","$axios","method","$confirm","confirmButtonText","cancelButtonText","type","change1","newvalue","computed","watch","$store","commit","getAddid","handler","deep","component","$","global","getBuiltIn","apply","uncurryThis","fails","Array","$stringify","exec","charAt","charCodeAt","replace","numberToString","toString","tester","low","hi","fix","match","offset","string","prev","next","FORCED","target","stat","forced","it","replacer","space","i","l","arguments","length","args","result"],"mappings":"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","file":"js/chunk-1cb5fec0.ff7ea1c3.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-container',[_c('el-main',{staticClass:\"my-upload-main\"},[_c('div',{attrs:{\"id\":\"my-upload-title\"}},[_vm._v(\"网抑云上传\")]),_c('el-form',{ref:\"form\",staticClass:\"my-upload-form\",attrs:{\"model\":_vm.form,\"label-width\":\"80px\"}},[_c('el-form-item',{staticClass:\"title-span my-upload-form-item\",attrs:{\"label\":\"SONG-ID\"}},[_c('el-input',{staticClass:\"my-upload-input\",attrs:{\"clearable\":\"\",\"disabled\":true},model:{value:(_vm.form.musicid),callback:function ($$v) {_vm.$set(_vm.form, \"musicid\", $$v)},expression:\"form.musicid\"}})],1),_c('el-form-item',{staticClass:\"title-span my-upload-form-item\",attrs:{\"label\":\"SONG-NAME\"}},[_c('el-input',{staticClass:\"my-upload-input\",attrs:{\"clearable\":\"\",\"placeholder\":\"例如: 水星记\"},model:{value:(_vm.form.musicname),callback:function ($$v) {_vm.$set(_vm.form, \"musicname\", $$v)},expression:\"form.musicname\"}})],1),_c('el-form-item',{staticClass:\"title-span my-upload-form-item\",attrs:{\"label\":\"SONG-SINGER\"}},[_c('el-input',{staticClass:\"my-upload-input\",attrs:{\"clearable\":\"\",\"placeholder\":\"例如：郭顶\"},model:{value:(_vm.form.musicsinger),callback:function ($$v) {_vm.$set(_vm.form, \"musicsinger\", $$v)},expression:\"form.musicsinger\"}})],1),_c('el-form-item',{staticClass:\"title-span my-upload-form-item\",attrs:{\"label\":\"SONG-DATETIME\"}},[_c('el-date-picker',{staticClass:\"my-form-date\",attrs:{\"type\":\"datetime\",\"placeholder\":\"选择日期时间\",\"align\":\"right\",\"picker-options\":_vm.pickerOptions},model:{value:(_vm.form.musicDatetime),callback:function ($$v) {_vm.$set(_vm.form, \"musicDatetime\", $$v)},expression:\"form.musicDatetime\"}})],1),_c('el-form-item',{staticClass:\"title-span my-upload-form-item\",attrs:{\"label\":\"SONG-MUSICTYPE\"}},[_c('el-select',{staticClass:\"my-form-select\",attrs:{\"placeholder\":\"请选择音乐类型\"},model:{value:(_vm.form.musicType),callback:function ($$v) {_vm.$set(_vm.form, \"musicType\", $$v)},expression:\"form.musicType\"}},_vm._l((_vm.musictype),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item,\"value\":item}})}),1)],1),_c('el-form-item',{staticClass:\"title-span my-upload-form-item\",attrs:{\"label\":\"MUSIC-BACKGROUND\"}},[_c('el-input',{staticClass:\"my-upload-input\",attrs:{\"disabled\":true,\"clearable\":\"\"},model:{value:(_vm.form.musicbackurl),callback:function ($$v) {_vm.$set(_vm.form, \"musicbackurl\", $$v)},expression:\"form.musicbackurl\"}}),_c('el-upload',{ref:\"upload\",staticClass:\"upload-demo\",attrs:{\"action\":\"/Music/Upload\",\"list-type\":\"picture-card\",\"on-preview\":_vm.handlePictureCardPreview,\"on-change\":_vm.change,\"on-success\":_vm.uploadsuccess,\"on-error\":_vm.uploaderror,\"auto-upload\":false,\"enctype\":\"multipart/form-data\",\"limit\":1}},[_c('i',{staticClass:\"el-icon-plus\"})]),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('img',{attrs:{\"width\":\"100%\",\"src\":_vm.dialogImageUrl,\"alt\":\"\"}})])],1),_c('el-form-item',{staticClass:\"title-span my-upload-form-item\",attrs:{\"label\":\"SONG-OUTLINK\"}},[_c('el-input',{staticClass:\"my-upload-input\",attrs:{\"clearable\":\"\",\"disabled\":true},model:{value:(_vm.form.musicoutlink),callback:function ($$v) {_vm.$set(_vm.form, \"musicoutlink\", $$v)},expression:\"form.musicoutlink\"}})],1),_c('el-button',{staticStyle:{},attrs:{\"icon\":\"el-icon-success\",\"circle\":\"\"},on:{\"click\":_vm.sureupload}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-container>\r\n      <el-main class=\"my-upload-main\">\r\n        <div id=\"my-upload-title\">网抑云上传</div>\r\n        <el-form\r\n          ref=\"form\"\r\n          :model=\"form\"\r\n          label-width=\"80px\"\r\n          class=\"my-upload-form\"\r\n        >\r\n          <el-form-item class=\"title-span my-upload-form-item\" label=\"SONG-ID\">\r\n            <el-input\r\n              v-model=\"form.musicid\"\r\n              class=\"my-upload-input\"\r\n              clearable\r\n              :disabled=\"true\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-form-item\r\n            class=\"title-span my-upload-form-item\"\r\n            label=\"SONG-NAME\"\r\n          >\r\n            <el-input\r\n              v-model=\"form.musicname\"\r\n              class=\"my-upload-input\"\r\n              clearable\r\n              placeholder=\"例如: 水星记\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-form-item\r\n            class=\"title-span my-upload-form-item\"\r\n            label=\"SONG-SINGER\"\r\n          >\r\n            <el-input\r\n              v-model=\"form.musicsinger\"\r\n              class=\"my-upload-input\"\r\n              clearable\r\n              placeholder=\"例如：郭顶\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-form-item\r\n            class=\"title-span my-upload-form-item\"\r\n            label=\"SONG-DATETIME\"\r\n          >\r\n            <el-date-picker\r\n              v-model=\"form.musicDatetime\"\r\n              type=\"datetime\"\r\n              placeholder=\"选择日期时间\"\r\n              align=\"right\"\r\n              :picker-options=\"pickerOptions\"\r\n              class=\"my-form-date\"\r\n            >\r\n            </el-date-picker>\r\n          </el-form-item>\r\n          <el-form-item\r\n            class=\"title-span my-upload-form-item\"\r\n            label=\"SONG-MUSICTYPE\"\r\n          >\r\n            <el-select\r\n              v-model=\"form.musicType\"\r\n              placeholder=\"请选择音乐类型\"\r\n              class=\"my-form-select\"\r\n            >\r\n              <el-option\r\n                v-for=\"(item, index) in musictype\"\r\n                :key=\"index\"\r\n                :label=\"item\"\r\n                :value=\"item\"\r\n              >\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item\r\n            class=\"title-span my-upload-form-item\"\r\n            label=\"MUSIC-BACKGROUND\"\r\n          >\r\n            <el-input\r\n              v-model=\"form.musicbackurl\"\r\n              class=\"my-upload-input\"\r\n              :disabled=\"true\"\r\n              clearable\r\n            ></el-input>\r\n            <el-upload\r\n              class=\"upload-demo\"\r\n              action=\"/Music/Upload\"\r\n              ref=\"upload\"\r\n              list-type=\"picture-card\"\r\n              :on-preview=\"handlePictureCardPreview\"\r\n              :on-change=\"change\"\r\n              :on-success=\"uploadsuccess\"\r\n              :on-error=\"uploaderror\"\r\n              :auto-upload=\"false\"\r\n              enctype=\"multipart/form-data\"\r\n              :limit=\"1\"\r\n            >\r\n              <i class=\"el-icon-plus\"></i>\r\n            </el-upload>\r\n            <el-dialog :visible.sync=\"dialogVisible\">\r\n              <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\" />\r\n            </el-dialog>\r\n          </el-form-item>\r\n          <el-form-item\r\n            class=\"title-span my-upload-form-item\"\r\n            label=\"SONG-OUTLINK\"\r\n          >\r\n            <el-input\r\n              v-model=\"form.musicoutlink\"\r\n              class=\"my-upload-input\"\r\n              clearable\r\n              :disabled=\"true\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-button\r\n            style=\"warning\"\r\n            icon=\"el-icon-success\"\r\n            circle\r\n            @click=\"sureupload\"\r\n          ></el-button>\r\n        </el-form>\r\n      </el-main>\r\n    </el-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as myapi from \"../assets/js/Myapi.js\";\r\nimport { mapState } from \"vuex\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      form: {\r\n        musicid: \"\",\r\n        musicname: \"\",\r\n        musicsinger: \"\",\r\n        musicDatetime: \"\",\r\n        musicType: \"\",\r\n        musicurl: \"\",\r\n        musicbackurl: \"\",\r\n        musicoutlink: \"\",\r\n      },\r\n      musictype: [],\r\n      dialogVisible: false, //图片展示\r\n      dialogImageUrl: \"\", //预览图片\r\n      pickerOptions: {\r\n        shortcuts: [\r\n          {\r\n            text: \"今天\",\r\n            onClick(picker) {\r\n              picker.$emit(\"pick\", new Date());\r\n            },\r\n          },\r\n          {\r\n            text: \"昨天\",\r\n            onClick(picker) {\r\n              const date = new Date();\r\n              date.setTime(date.getTime() - 3600 * 1000 * 24);\r\n              picker.$emit(\"pick\", date);\r\n            },\r\n          },\r\n          {\r\n            text: \"一周前\",\r\n            onClick(picker) {\r\n              const date = new Date();\r\n              date.setTime(date.getTime() - 3600 * 1000 * 24 * 7);\r\n              picker.$emit(\"pick\", date);\r\n            },\r\n          },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    this.init();\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.musictype = this.songstype;\r\n      console.log(this.musictype);\r\n    },\r\n    //----图片预览-----------------------\r\n    handlePictureCardPreview(file) {\r\n      this.dialogImageUrl = file.url;\r\n      this.dialogVisible = true;\r\n    },\r\n    //------文件改变时\r\n    change(file) {\r\n      this.form.musicbackurl = file.name;\r\n      console.log(file);\r\n    },\r\n    //--------文件上传成功时\r\n    uploadsuccess(response, file, fileList) {\r\n      this.form.musicbackurl = file.name;\r\n      console.log(\"上传成功\", response, file, file.name, fileList);\r\n      //接着进行上传\r\n      //调用另一个上传函数把form内容上传到后台.\r\n      this.uploadAll()\r\n    },\r\n    //--------文件上传失败时\r\n    uploaderror(file) {\r\n      console.log(file);\r\n      this.$message.error(\"上传失败\");\r\n    },\r\n    //上传所有内容\r\n    uploadAll() {\r\n      var _this = this\r\n      var data = this.$qs.stringify({\r\n        music: JSON.stringify(this.form),\r\n      });\r\n      this.$axios({\r\n        method: \"post\",\r\n        url: \"/Music/AddMusic\",\r\n        data: data,\r\n      })\r\n        .then(function (respone) {\r\n          console.log(respone.data.tip);\r\n          if(respone.data.tip===true){\r\n            setTimeout(()=>{\r\n              _this.$message.success(\"上传成功\");\r\n            },1000)\r\n          }else if(respone.data.tip.indexOf('上传失败')>=0){\r\n            setTimeout(()=>{\r\n              _this.$message.warning(\"上传失败,该歌曲id已存在\");\r\n            },1000)\r\n          }else{\r\n            setTimeout(()=>{\r\n              _this.$message.warning(\"上传失败\");\r\n            },1000)\r\n          }\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        });\r\n    },\r\n    //确定上传...\r\n    sureupload() {\r\n      this.$confirm(\"确定上传信息无误嘛, 是否继续?\", \"上传提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\",\r\n      })\r\n        .then((action) => {\r\n          if (action === \"confirm\") {\r\n            this.$refs.upload.submit(); //上传照片先...\r\n          }\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消上传\",\r\n          });\r\n        });\r\n    },\r\n    change1(newvalue) {\r\n      this.form.musicDatetime = newvalue.musicDatetime;\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapState(\"Songs\", [\"songstype\", \"getAddid\"]),\r\n  },\r\n  watch: {\r\n    songstype(newvalue) {\r\n      this.musictype = newvalue;\r\n      console.log('???????上传',this.musictype);\r\n    },\r\n    \"form.musicsinger\"(newvalue) {\r\n      console.log(newvalue);\r\n      this.$store.commit('Songs/getAddid','')//为了保持id实时更新\r\n      if (newvalue != null && this.form.musicname) {\r\n        myapi.getAddsongid(this.form.musicname, newvalue);\r\n      }\r\n    },\r\n    getAddid(newvalue) {\r\n      console.log('getid!!!!!')\r\n      this.form.musicid = newvalue;\r\n      this.form.musicoutlink =\r\n        \"https://music.163.com/outchain/player?type=2&id=\" +\r\n        newvalue +\r\n        \"&auto=1&height=66\";\r\n    },\r\n    form:{\r\n      handler: \"change1\",\r\n      deep:true\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n@import \"../assets/css/Upload.css\";\r\n@import \"../assets/css/normal.css\";\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Upload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Upload.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Upload.vue?vue&type=template&id=27b47efe&\"\nimport script from \"./Upload.vue?vue&type=script&lang=js&\"\nexport * from \"./Upload.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Upload.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Upload.vue?vue&type=style&index=0&lang=css&\"","var $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar apply = require('../internals/function-apply');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\n\nvar Array = global.Array;\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar exec = uncurryThis(/./.exec);\nvar charAt = uncurryThis(''.charAt);\nvar charCodeAt = uncurryThis(''.charCodeAt);\nvar replace = uncurryThis(''.replace);\nvar numberToString = uncurryThis(1.0.toString);\n\nvar tester = /[\\uD800-\\uDFFF]/g;\nvar low = /^[\\uD800-\\uDBFF]$/;\nvar hi = /^[\\uDC00-\\uDFFF]$/;\n\nvar fix = function (match, offset, string) {\n  var prev = charAt(string, offset - 1);\n  var next = charAt(string, offset + 1);\n  if ((exec(low, match) && !exec(hi, next)) || (exec(hi, match) && !exec(low, prev))) {\n    return '\\\\u' + numberToString(charCodeAt(match, 0), 16);\n  } return match;\n};\n\nvar FORCED = fails(function () {\n  return $stringify('\\uDF06\\uD834') !== '\"\\\\udf06\\\\ud834\"'\n    || $stringify('\\uDEAD') !== '\"\\\\udead\"';\n});\n\nif ($stringify) {\n  // `JSON.stringify` method\n  // https://tc39.es/ecma262/#sec-json.stringify\n  // https://github.com/tc39/proposal-well-formed-stringify\n  $({ target: 'JSON', stat: true, forced: FORCED }, {\n    // eslint-disable-next-line no-unused-vars -- required for `.length`\n    stringify: function stringify(it, replacer, space) {\n      for (var i = 0, l = arguments.length, args = Array(l); i < l; i++) args[i] = arguments[i];\n      var result = apply($stringify, null, args);\n      return typeof result == 'string' ? replace(result, tester, fix) : result;\n    }\n  });\n}\n"],"sourceRoot":""}